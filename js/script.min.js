function newBoard(){localStorage.setItem("points",0),displayPoints(),tiles_flipped=0;var a="";memory_array.memory_tile_shuffle();for(var b=0;b<memory_array.length;b++)a+='<div id="tile_'+b+'" onclick="memoryFlipTile(this, \''+memory_array[b]+"')\"></div>";document.getElementById("memory_board").innerHTML=a}function memoryFlipTile(a,b){function c(){var a=document.getElementById(memory_tile_ids[0]),b=document.getElementById(memory_tile_ids[1]);a.style.background="url(sand.jpg) no-repeat",a.innerHTML="",b.style.background="url(sand.jpg) no-repeat",b.innerHTML="",d>0&&(d-=2,localStorage.setItem("points",d)),displayPoints(),memory_values=[],memory_tile_ids=[]}var d=localStorage.getItem("points");d=parseInt(d,10),""==a.innerHTML&&memory_values.length<2&&(a.style.background="#FFF",a.innerHTML=b,0==memory_values.length?(memory_values.push(b),memory_tile_ids.push(a.id)):1==memory_values.length&&(memory_values.push(b),memory_tile_ids.push(a.id),memory_values[0]==memory_values[1]?(tiles_flipped+=2,d+=5,localStorage.setItem("points",d),displayPoints(),memory_values=[],memory_tile_ids=[],tiles_flipped==memory_array.length&&(highScore(),document.getElementById("memory_board").innerHTML="",newBoard())):setTimeout(c,700)))}function displayPoints(){var a=localStorage.getItem("points");document.getElementById("points").innerHTML="<h2>Poäng: "+a+"</h2>"}function highScore(){var a=localStorage.getItem("score1"),b=localStorage.getItem("score2"),c=localStorage.getItem("score3"),d=localStorage.getItem("score4"),e=localStorage.getItem("score5"),f=localStorage.getItem("score6"),g=localStorage.getItem("score7"),h=localStorage.getItem("score8"),i=localStorage.getItem("score9"),j=localStorage.getItem("score10"),k=localStorage.getItem("points");return k>a?(localStorage.setItem("score1",k),void alert("Grattis du toppade highscore-listan! Du fick "+k+" poäng.")):k>b?(localStorage.setItem("score2",k),void alert("Grattis du kom 2:a på highscore-listan! Du fick "+k+" poäng.")):k>c?(localStorage.setItem("score3",k),void alert("Grattis du kom 3:a på highscore-listan! Du fick "+k+" poäng.")):k>d?(localStorage.setItem("score4",k),void alert("Grattis du kom 4:a på highscore-listan! Du fick "+k+" poäng.")):k>e?(localStorage.setItem("score5",k),void alert("Grattis du kom 5:a på highscore-listan! Du fick "+k+" poäng.")):k>f?(localStorage.setItem("score6",k),void alert("Grattis du kom 6:a på highscore-listan! Du fick "+k+" poäng.")):k>g?(localStorage.setItem("score7",k),void alert("Grattis du kom 7:a på highscore-listan! Du fick "+k+" poäng.")):k>h?(localStorage.setItem("score8",k),void alert("Grattis du kom 8:a på highscore-listan! Du fick "+k+" poäng.")):k>i?(localStorage.setItem("score9",k),void alert("Grattis du kom 9:a på highscore-listan! Du fick "+k+" poäng.")):k>j?(localStorage.setItem("score10",k),void alert("Grattis du kom 10:a på highscore-listan! Du fick "+k+" poäng.")):void alert(" Du fick "+k+" poäng. Tyvärr kom du inte in på highscore-listan.")}window.addEventListener("load",newBoard),window.addEventListener("load",displayPoints);var memory_array=["A","A","B","B","C","C","D","D","E","E","F","F","G","G","H","H","I","I","J","J","K","K","L","L","M","M","N","N"],memory_values=[],memory_tile_ids=[],tiles_flipped=0,mq_mobile=window.matchMedia("(max-width: 668px)"),mq_tablet=window.matchMedia("(min-width: 669px) and (max-width: 1023px)"),mq_desktop=window.matchMedia("(min-width: 1024px)");mq_mobile.matches?(console.log("mobile"),memory_array=["A","A","B","B","C","C","D","D","E","E","F","F","G","G","H","H","I","I","J","J"]):mq_tablet.matches?(console.log("tablet"),memory_array=["A","A","B","B","C","C","D","D","E","E","F","F","G","G","H","H","I","I","J","J","K","K","L","L","M","M","N","N","O","O","P","P","Q","Q","R","R"]):mq_desktop.matches&&(console.log("desktop"),memory_array=["A","A","B","B","C","C","D","D","E","E","F","F","G","G","H","H","I","I","J","J","K","K","L","L","M","M","N","N","O","O","P","P","Q","Q","R","R","S","S","T","T"]),localStorage.setItem("score1",0),localStorage.setItem("score2",0),localStorage.setItem("score3",0),localStorage.setItem("score4",0),localStorage.setItem("score5",0),localStorage.setItem("score6",0),localStorage.setItem("score7",0),localStorage.setItem("score8",0),localStorage.setItem("score9",0),localStorage.setItem("score10",0),Array.prototype.memory_tile_shuffle=function(){for(var a,b,c=this.length;--c>0;)a=Math.floor(Math.random()*(c+1)),b=this[a],this[a]=this[c],this[c]=b};